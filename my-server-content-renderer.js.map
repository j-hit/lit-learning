{"version":3,"file":"my-server-content-renderer.js","sourceRoot":"","sources":["src/my-server-content-renderer.ts"],"names":[],"mappings":";;;;;;AAAA,uDAAuD;AACvD,OAAO,EAAC,UAAU,EAAiB,MAAM,KAAK,CAAC;AAC/C,OAAO,EAAC,IAAI,EAAE,YAAY,EAAC,MAAM,oBAAoB,CAAC;AAEtD,OAAO,EAAC,aAAa,EAAC,MAAM,mBAAmB,CAAC;AAEhD,OAAO,EAAC,MAAM,EAAC,MAAM,sBAAsB,CAAC;AAWrC,IAAM,uBAAuB,GAA7B,MAAM,uBAAwB,SAAQ,UAAU;IAAhD;;QACG,YAAO,GAAoB;YACjC;gBACE,OAAO,EAAE,WAAW;gBACpB,KAAK,EAAE;oBACL,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,WAAW;oBAClB,OAAO,EAAE,WAAW;oBACpB,SAAS,EAAE,IAAI;oBACf,QAAQ,EAAE;wBACR;4BACE,OAAO,EAAE,MAAM;4BACf,KAAK,EAAE;gCACL,QAAQ,EAAE,UAAU;6BACrB;yBACF;qBACF;iBACF;aACF;YACD;gBACE,OAAO,EAAE,WAAW;gBACpB,KAAK,EAAE;oBACL,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,WAAW;oBAClB,OAAO,EAAE,WAAW;oBACpB,SAAS,EAAE,KAAK;oBAChB,QAAQ,EAAE;wBACR;4BACE,OAAO,EAAE,MAAM;4BACf,KAAK,EAAE;gCACL,QAAQ,EAAE,UAAU;6BACrB;yBACF;qBACF;iBACF;aACF;SACF,CAAC;IAsBJ,CAAC;IApBS,aAAa,CAAC,OAAsB;QAC1C,MAAM,GAAG,GAAG,OAAO,CAAC,OAAsC,CAAC;QAC3D,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC5B,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC;QACtC,MAAM,oBAAoB,GAAG,EAAC,GAAG,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAC,CAAC;QAErE,OAAO,IAAI,CAAA,IAAI,YAAY,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,oBAAoB,CAAC;QAE5D,OAAO,QAAQ,KAAK,QAAQ;YAC1B,CAAC,CAAC,QAAQ;YACV,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CACvD;QACE,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC;IAC3B,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;aACF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC5D,CAAC;IACJ,CAAC;CACF,CAAA;AA1DY,uBAAuB;IADnC,aAAa,CAAC,4BAA4B,CAAC;GAC/B,uBAAuB,CA0DnC","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {LitElement, TemplateResult} from 'lit';\nimport {html, unsafeStatic} from 'lit/static-html.js';\n\nimport {customElement} from 'lit/decorators.js';\n\nimport {spread} from '@open-wc/lit-helpers';\n\ntype ServerElement = {\n  element: string;\n  props: {\n    children?: string | ServerElement[];\n    [key: string]: string | boolean | ServerElement[] | undefined;\n  };\n};\n\n@customElement('my-server-content-renderer')\nexport class MyServerContentRenderer extends LitElement {\n  private content: ServerElement[] = [\n    {\n      element: 'my-button',\n      props: {\n        size: 'small',\n        shape: 'rectangle',\n        variant: 'secondary',\n        '.shadow': true,\n        children: [\n          {\n            element: 'span',\n            props: {\n              children: 'Button 1',\n            },\n          },\n        ],\n      },\n    },\n    {\n      element: 'my-button',\n      props: {\n        size: 'small',\n        shape: 'rectangle',\n        variant: 'secondary',\n        '.shadow': false,\n        children: [\n          {\n            element: 'span',\n            props: {\n              children: 'Button 2',\n            },\n          },\n        ],\n      },\n    },\n  ];\n\n  private renderContent(content: ServerElement): TemplateResult {\n    const tag = content.element as keyof HTMLElementTagNameMap;\n    const props = content.props;\n    const children = props.children || [];\n    const propsWithoutChildren = {...content.props, children: undefined};\n\n    return html`<${unsafeStatic(tag)} ${spread(propsWithoutChildren)}>\n      ${\n        typeof children === 'string'\n          ? children\n          : children.map((child) => this.renderContent(child))\n      }\n    </${unsafeStatic(tag)}>`;\n  }\n\n  override render() {\n    return html`\n      <div>${this.content.map((item) => this.renderContent(item))}</div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'my-server-content-renderer': MyServerContentRenderer;\n  }\n}\n"]}